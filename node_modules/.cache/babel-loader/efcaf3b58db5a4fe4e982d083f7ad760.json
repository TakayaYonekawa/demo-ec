{"ast":null,"code":"import _objectSpread from\"/Users/yonekawatakashinari/Desktop/\\u8EE2\\u8077\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/ec-site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Button}from\"@mui/material\";import React,{useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{handleCart,handleTotalPrice,removeAll}from\"../../redux/cart/cartSlice\";import{useSelector}from\"../../store\";import CartItem from\"./CartItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartContainer(){var dispatch=useDispatch();var _useSelector=useSelector(function(store){return store.cart;}),cartItems=_useSelector.cartItems,cartShow=_useSelector.cartShow,totalPrice=_useSelector.totalPrice;useEffect(function(){// イベントの設定\nwindow.addEventListener('beforeunload',onUnload);return function(){// イベントの設定解除\nwindow.removeEventListener('beforeunload',onUnload);};});var onUnload=function onUnload(e){e.preventDefault();e.returnValue='';};useEffect(function(){dispatch(handleCart());dispatch(handleTotalPrice());},[]);if(totalPrice<1||totalPrice===undefined){return/*#__PURE__*/_jsx(\"section\",{className:\"cart\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u8CB7\\u3044\\u7269\\u304B\\u3054\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"empty-cart\",children:\"\\u4F55\\u3082\\u5165\\u3063\\u3066\\u307E\\u305B\\u3093\\u30FB\\u30FB\\u30FB\"})]})});}return/*#__PURE__*/_jsxs(\"section\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u8CB7\\u3044\\u7269\\u304B\\u3054\"})}),/*#__PURE__*/_jsx(\"div\",{children:cartShow?cartShow.map(function(item){return/*#__PURE__*/_jsx(CartItem,_objectSpread({},item),item.id);}):\"\"}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-total\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u5408\\u8A08 \",/*#__PURE__*/_jsxs(\"span\",{children:[Math.floor(totalPrice*100),\"\\u5186\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"clear-btn\",children:/*#__PURE__*/_jsx(Button,{className:\"btn \",onClick:function onClick(){return dispatch(removeAll());},children:\"\\u5168\\u524A\\u9664\"})})]})]});}export default CartContainer;","map":{"version":3,"names":["Button","React","useEffect","useDispatch","handleCart","handleTotalPrice","removeAll","useSelector","CartItem","CartContainer","dispatch","store","cart","cartItems","cartShow","totalPrice","window","addEventListener","onUnload","removeEventListener","e","preventDefault","returnValue","undefined","map","item","id","Math","floor"],"sources":["/Users/yonekawatakashinari/Desktop/転職ポートフォリオ/ec-site/src/components/cart/CartContainer.tsx"],"sourcesContent":["import { Button } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  handleCart,\n  handleTotalPrice,\n  removeAll,\n} from \"../../redux/cart/cartSlice\";\nimport { AppDispatch, useSelector } from \"../../store\";\nimport CartItem from \"./CartItem\";\n\nfunction CartContainer() {\n\n\n  const dispatch = useDispatch<AppDispatch>();\n  const { cartItems, cartShow,totalPrice } = useSelector((store) => store.cart);\n\n  useEffect(() => {\n    // イベントの設定\n    window.addEventListener('beforeunload', onUnload);\n    return () => {\n      // イベントの設定解除\n      window.removeEventListener('beforeunload', onUnload);\n    }\n  })\n  const onUnload = (e: { preventDefault: () => void; returnValue: string; }) => {\n    e.preventDefault();\n    e.returnValue = '';\n  }\n\n  useEffect(() => {\n    dispatch(handleCart());\n    dispatch(handleTotalPrice());\n  }, []);\n\n  if (totalPrice < 1 || totalPrice === undefined) {\n    return (\n      <section className=\"cart\">\n        <div>\n          <h2>買い物かご</h2>\n          <h4 className=\"empty-cart\">何も入ってません・・・</h4>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"cart\">\n      <div>\n        <h2>買い物かご</h2>\n      </div>\n      <div>\n        {cartShow\n          ? cartShow.map((item) => {\n              return <CartItem key={item.id} {...item} />;\n            })\n          : \"\"}\n\n        {/* {cartItems\n          ? cartItems.map((item: cartArray) => {\n              return <CartItem key={item.id} {...item} />;\n            })\n          : \"\"} */}\n      </div>\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            合計 <span>{Math.floor(totalPrice * 100)}円</span>\n          </h4>\n        </div>\n        <div className=\"clear-btn\">\n          <Button className=\"btn \" onClick={() => dispatch(removeAll())}>\n            全削除\n          </Button>\n        </div>\n      </footer>\n    </section>\n  );\n}\n\nexport default CartContainer;\n"],"mappings":"4LAAA,OAASA,MAAT,KAAuB,eAAvB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OACEC,UADF,CAEEC,gBAFF,CAGEC,SAHF,KAIO,4BAJP,CAKA,OAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAEA,QAASC,cAAT,EAAyB,CAGvB,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,iBAA2CI,WAAW,CAAC,SAACI,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAAtD,CAAQC,SAAR,cAAQA,SAAR,CAAmBC,QAAnB,cAAmBA,QAAnB,CAA4BC,UAA5B,cAA4BA,UAA5B,CAEAb,SAAS,CAAC,UAAM,CACd;AACAc,MAAM,CAACC,gBAAP,CAAwB,cAAxB,CAAwCC,QAAxC,EACA,MAAO,WAAM,CACX;AACAF,MAAM,CAACG,mBAAP,CAA2B,cAA3B,CAA2CD,QAA3C,EACD,CAHD,CAID,CAPQ,CAAT,CAQA,GAAMA,SAAQ,CAAG,QAAXA,SAAW,CAACE,CAAD,CAA6D,CAC5EA,CAAC,CAACC,cAAF,GACAD,CAAC,CAACE,WAAF,CAAgB,EAAhB,CACD,CAHD,CAKApB,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACN,UAAU,EAAX,CAAR,CACAM,QAAQ,CAACL,gBAAgB,EAAjB,CAAR,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAIU,UAAU,CAAG,CAAb,EAAkBA,UAAU,GAAKQ,SAArC,CAAgD,CAC9C,mBACE,gBAAS,SAAS,CAAC,MAAnB,uBACE,oCACE,sDADF,cAEE,WAAI,SAAS,CAAC,YAAd,gFAFF,GADF,EADF,CAQD,CAED,mBACE,iBAAS,SAAS,CAAC,MAAnB,wBACE,kCACE,sDADF,EADF,cAIE,qBACGT,QAAQ,CACLA,QAAQ,CAACU,GAAT,CAAa,SAACC,IAAD,CAAU,CACrB,mBAAO,KAAC,QAAD,kBAA4BA,IAA5B,EAAeA,IAAI,CAACC,EAApB,CAAP,CACD,CAFD,CADK,CAIL,EALN,EAJF,cAiBE,uCACE,aADF,cAEE,YAAK,SAAS,CAAC,YAAf,uBACE,mDACK,wBAAOC,IAAI,CAACC,KAAL,CAAWb,UAAU,CAAG,GAAxB,CAAP,YADL,GADF,EAFF,cAOE,YAAK,SAAS,CAAC,WAAf,uBACE,KAAC,MAAD,EAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAE,yBAAML,SAAQ,CAACJ,SAAS,EAAV,CAAd,EAAlC,gCADF,EAPF,GAjBF,GADF,CAiCD,CAED,cAAeG,cAAf"},"metadata":{},"sourceType":"module"}