{"ast":null,"code":"import _defineProperty from\"/Users/yonekawatakashinari/Desktop/js-practice/yone-ec-site/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/yonekawatakashinari/Desktop/js-practice/yone-ec-site/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yonekawatakashinari/Desktop/js-practice/yone-ec-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";export var getItems=createAsyncThunk('items/getItems',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://fakestoreapi.com/products').then(function(res){return res.json();});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);})));export var getDetail=createAsyncThunk('items/getDetail',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://fakestoreapi.com/products/\".concat(id)).then(function(res){return res.json();});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}());var initialState={items:[],detail:[],maxPrice:100000,minPrice:0,maxPriceRange:100000,minPriceRange:0,filterFlag:false};var itemSlice=createSlice({name:\"items\",initialState:initialState,reducers:{// 最大価格の取得\nhandleMaxPrice:function handleMaxPrice(state,action){var maxPriceValue=Number(action.payload);if(state.minPrice+1000>maxPriceValue){return;}state.maxPrice=maxPriceValue;},// 最低価格の取得\nhandleMinPrice:function handleMinPrice(state,action){var minPriceValue=Number(action.payload);if(state.maxPrice-1000<minPriceValue){return;}state.minPrice=minPriceValue;},// 絞り込みを実行\nclickPrice:function clickPrice(state){state.maxPriceRange=state.maxPrice;state.minPriceRange=state.minPrice;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getItems.fulfilled.toString(),function(state,action){state.items=action.payload;}),_defineProperty(_extraReducers,getDetail.fulfilled.toString(),function(state,action){state.detail=action.payload;}),_extraReducers)});var _itemSlice$actions=itemSlice.actions,handleMaxPrice=_itemSlice$actions.handleMaxPrice,handleMinPrice=_itemSlice$actions.handleMinPrice,clickPrice=_itemSlice$actions.clickPrice;export{handleMaxPrice,handleMinPrice,clickPrice};export default itemSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getItems","fetch","then","res","json","getDetail","id","initialState","items","detail","maxPrice","minPrice","maxPriceRange","minPriceRange","filterFlag","itemSlice","name","reducers","handleMaxPrice","state","action","maxPriceValue","Number","payload","handleMinPrice","minPriceValue","clickPrice","extraReducers","fulfilled","toString","actions","reducer"],"sources":["/Users/yonekawatakashinari/Desktop/js-practice/yone-ec-site/src/redux/item/itemSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\n\n\nexport const getItems = createAsyncThunk('items/getItems', async () => {\n    return await fetch('https://fakestoreapi.com/products').then((res) =>\n      res.json()\n    );\n  });\n\n  export const getDetail = createAsyncThunk('items/getDetail', async (id: string | undefined) => {\n    return await fetch(`https://fakestoreapi.com/products/${id}`).then((res) =>\n      res.json()\n    );\n  });\n\nconst initialState = {\n  items: [],\n  detail: [],\n  maxPrice:100000,\n  minPrice:0,\n  maxPriceRange:100000,\n  minPriceRange: 0,\n  filterFlag: false,\n};\n\nconst itemSlice = createSlice({\n  name: \"items\",\n  initialState,\n  reducers:{\n    // 最大価格の取得\n    handleMaxPrice: (state, action) => {\n      let maxPriceValue = Number(action.payload);\n      if(state.minPrice + 1000 > maxPriceValue){\n        return\n      }\n      state.maxPrice = maxPriceValue;\n    },\n    // 最低価格の取得\n    handleMinPrice: (state, action) => {\n      let minPriceValue = Number(action.payload);\n      if(state.maxPrice - 1000 < minPriceValue){\n        return\n      }\n      state.minPrice = minPriceValue;\n    },\n    // 絞り込みを実行\n    clickPrice: (state) => {\n      state.maxPriceRange = state.maxPrice;\n      state.minPriceRange = state.minPrice;\n    },\n\n  },\n  extraReducers: {\n    [getItems.fulfilled.toString()]: (state, action) => {\n      state.items = action.payload;\n    },\n    [getDetail.fulfilled.toString()]: (state, action) => {\n        state.detail = action.payload;\n    },\n  },\n});\n\n\nexport const {handleMaxPrice, handleMinPrice, clickPrice} = itemSlice.actions;\nexport default itemSlice.reducer;\n"],"mappings":"wdAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CAIA,MAAO,IAAMC,SAAQ,CAAGF,gBAAgB,CAAC,gBAAD,wEAAmB,2JAC1CG,MAAK,CAAC,mCAAD,CAAL,CAA2CC,IAA3C,CAAgD,SAACC,GAAD,QAC3DA,IAAG,CAACC,IAAJ,EAD2D,EAAhD,CAD0C,6GAAnB,GAAjC,CAML,MAAO,IAAMC,UAAS,CAAGP,gBAAgB,CAAC,iBAAD,6FAAoB,kBAAOQ,EAAP,+IAC9CL,MAAK,6CAAsCK,EAAtC,EAAL,CAAiDJ,IAAjD,CAAsD,SAACC,GAAD,QACjEA,IAAG,CAACC,IAAJ,EADiE,EAAtD,CAD8C,iHAApB,gEAAlC,CAMT,GAAMG,aAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAEnBC,MAAM,CAAE,EAFW,CAGnBC,QAAQ,CAAC,MAHU,CAInBC,QAAQ,CAAC,CAJU,CAKnBC,aAAa,CAAC,MALK,CAMnBC,aAAa,CAAE,CANI,CAOnBC,UAAU,CAAE,KAPO,CAArB,CAUA,GAAMC,UAAS,CAAGhB,WAAW,CAAC,CAC5BiB,IAAI,CAAE,OADsB,CAE5BT,YAAY,CAAZA,YAF4B,CAG5BU,QAAQ,CAAC,CACP;AACAC,cAAc,CAAE,wBAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,GAAIC,cAAa,CAAGC,MAAM,CAACF,MAAM,CAACG,OAAR,CAA1B,CACA,GAAGJ,KAAK,CAACR,QAAN,CAAiB,IAAjB,CAAwBU,aAA3B,CAAyC,CACvC,OACD,CACDF,KAAK,CAACT,QAAN,CAAiBW,aAAjB,CACD,CARM,CASP;AACAG,cAAc,CAAE,wBAACL,KAAD,CAAQC,MAAR,CAAmB,CACjC,GAAIK,cAAa,CAAGH,MAAM,CAACF,MAAM,CAACG,OAAR,CAA1B,CACA,GAAGJ,KAAK,CAACT,QAAN,CAAiB,IAAjB,CAAwBe,aAA3B,CAAyC,CACvC,OACD,CACDN,KAAK,CAACR,QAAN,CAAiBc,aAAjB,CACD,CAhBM,CAiBP;AACAC,UAAU,CAAE,oBAACP,KAAD,CAAW,CACrBA,KAAK,CAACP,aAAN,CAAsBO,KAAK,CAACT,QAA5B,CACAS,KAAK,CAACN,aAAN,CAAsBM,KAAK,CAACR,QAA5B,CACD,CArBM,CAHmB,CA2B5BgB,aAAa,mDACV3B,QAAQ,CAAC4B,SAAT,CAAmBC,QAAnB,EADU,CACsB,SAACV,KAAD,CAAQC,MAAR,CAAmB,CAClDD,KAAK,CAACX,KAAN,CAAcY,MAAM,CAACG,OAArB,CACD,CAHU,iCAIVlB,SAAS,CAACuB,SAAV,CAAoBC,QAApB,EAJU,CAIuB,SAACV,KAAD,CAAQC,MAAR,CAAmB,CACjDD,KAAK,CAACV,MAAN,CAAeW,MAAM,CAACG,OAAtB,CACH,CANU,iBA3Be,CAAD,CAA7B,CAsCO,uBAAqDR,SAAS,CAACe,OAA/D,CAAOZ,cAAP,oBAAOA,cAAP,CAAuBM,cAAvB,oBAAuBA,cAAvB,CAAuCE,UAAvC,oBAAuCA,UAAvC,C,iDACP,cAAeX,UAAS,CAACgB,OAAzB"},"metadata":{},"sourceType":"module"}